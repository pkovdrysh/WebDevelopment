<!--

    Implement Calculator ctor, that creates extendable calc objects.
    By default Calculator supports "+" and "-" (line 24 and 25)

    Extend functionality with addOperation operation to add new functions (line 27 and 28).

-->

<html>
<head>
    <title></title>
</head>
<body>
    <script>

        // Constructor of Calculator type
        function Calculator() {
        }
        Calculator.operations = {
            '+': function(firstNum, secondNum){
                return firstNum + secondNum
            },
            '-': function(firstNum, secondNum){
                return firstNum - secondNum
            }
        }
        Calculator.prototype.calculate= function(expression){
            try{
                return Calculator.operations[expression[2]](+expression[0], +expression[4])
            }
            catch(e){ 
                console.error(e)
            }
        }
        Calculator.prototype.addOperation = function(operationSignature, opertionFunction){
            Calculator.operations[operationSignature] = opertionFunction;
        }

        var calc = new Calculator();

        alert(calc.calculate("3 + 7")); // output 10
        alert(calc.calculate("7 - 3")); // output 4

        calc.addOperation("*", function (a, b) { return a * b; });
        calc.addOperation("/", function (a, b) { return a / b; });

        alert(calc.calculate("3 * 7")); // output 21
        alert(calc.calculate("8 / 4")); // output 2
    </script>
</body>
</html>
